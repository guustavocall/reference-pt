// Defina os pinos dos relés
int relayPin1 = 2;
int relayPin2 = 3;
int relayPin3 = 4;
int relayPin4 = 5;

// Defina o pino do sensor de detecção de chuva
int rainSensorPin = 6;

void setup() {
  // Inicialize os pinos dos relés como saídas
  pinMode(relayPin1, OUTPUT);
  pinMode(relayPin2, OUTPUT);
  pinMode(relayPin3, OUTPUT);
  pinMode(relayPin4, OUTPUT);

  // Inicialize o pino do sensor de detecção de chuva como entrada
  pinMode(rainSensorPin, INPUT);

  // Inicialmente, ligue os relés
  digitalWrite(relayPin1, HIGH);
  digitalWrite(relayPin2, HIGH);
  digitalWrite(relayPin3, HIGH);
  digitalWrite(relayPin4, HIGH);
}

void loop() {
  // Leia o valor do sensor de detecção de chuva
  int rainValue = digitalRead(rainSensorPin);

  // Se o sensor de detecção de chuva detectar chuva (LOW), desligue os relés
  if (rainValue == LOW) {
    digitalWrite(relayPin1, LOW);
    digitalWrite(relayPin2, LOW);
    digitalWrite(relayPin3, LOW);
    digitalWrite(relayPin4, LOW);
  } else {
    // Caso contrário, ligue os relés
    digitalWrite(relayPin1, HIGH);
    digitalWrite(relayPin2, HIGH);
    digitalWrite(relayPin3, HIGH);
    digitalWrite(relayPin4, HIGH);
  }

  // Adicione um pequeno atraso para evitar flutuações
  delay(1000);
}
